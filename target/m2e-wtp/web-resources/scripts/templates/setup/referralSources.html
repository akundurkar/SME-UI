<!-- JQUERY VALIDATE -->
<script src="js/plugin/jquery-validate/jquery.validate.min.js"></script>
<!-- JQUERY MASKED INPUT -->
<script src="js/plugin/masked-input/jquery.maskedinput.min.js"></script>

<!-- MAIN PANEL -->
<div id="main" role="main">

	<!-- RIBBON -->
	<div id="ribbon">

		<!-- breadcrumb -->
		<ol class="breadcrumb">
			<li>SetUp</li>
			<li>Referral Sources</li>
		</ol>
		<!-- end breadcrumb -->

		<!-- You can also add more buttons to the
				ribbon for further usability

				Example below:-->
	</div>
<!-- END RIBBON -->
<!-- MAIN CONTENT -->
	<div id="content">
		<div class="animated fadeInRight">

		<div class="col-sm-12">
		
		<button type="button" class="btn btn-primary btn-default pull-right" data-toggle="modal" data-target="#referralSourceModal">New Referral Source </button>
						
		</div>
		<br>
		<br>
		
			<div class="row" id="company-detail-form">
				
				<div class="col-sm-12">

					<!-- Widget ID (each widget will need unique ID)-->
					<div class="jarviswidget" id="wid-id-1"
						data-widget-editbutton="false" data-widget-custombutton="false">
						<header>
							<span class="widget-icon"> <i class="fa  fa-bullhorn"></i>
							</span>
							<h2>Referral Source</h2>
						</header>
						<!-- widget div-->
						<div>
							<!-- widget edit box -->
							<div class="jarviswidget-editbox">
								<!-- This area used as dropdown edit box -->
							</div>
							<!-- end widget edit box -->
							<!-- widget content -->
							<div class="widget-body no-padding">

								<table class="table table-hover">
									<thead>
										<tr>
											<th></th>
											<th>REFERRAL NAME</th>
											<th>REFERRAL CODE</th>
											<th>REFERRAL POINT</th>
											<th>DATE ADDED</th>
											<th>STATUS</th>
											<th></th>
										</tr>
									</thead>
									<tbody>
									<%   _.each(referralSourceList, function(referralSources){ 
									        console.log(referralSources);
									         %>	
										<tr>
										    <td><i class="fa fa-reorder"></i></td>
											<td><%= referralSources.attributes.referralName %></td>
											<td><%= referralSources.attributes.referralCode %></td>
											<td><%= referralSources.attributes.referralPoint %></td>
											<td>Sat,10 March 2017</td>
											<td><span class="label label-success">Active</span></td>
											<td><a href="#" class="btn btn-default txt-color-blueLight">View</a></td>
										</tr>
									<% }); %>		
									</tbody>
								</table>

							</div>
							<!-- end widget content -->

						</div>
						<!-- end widget div -->

					</div>
					<!-- end widget -->

				</div>
				<!-- end row -->
				
			</div>
			<!-- end widget grid -->

		</div>
	</div>
<!-- END MAIN CONTENT -->
<!-- Modal -->
	<div class="modal" id="referralSourceModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-md">
			<div class="modal-content">
			<form class="form " role="form" id="newReferralSource-form" >
			
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						&times;
					</button>
					<h4 class="modal-title" id="myModalLabel"><i class="fa fa-bullhorn"></i> New Referral Source</h4>
				</div>
				<div class="modal-body">
				
				
									<div class="row">
						
										<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
					
								
									<div class="row">
									
										<div class="smart-form">
										
											<div class="col col-8">
											
												<label class="input">
													 Name<input type="text" class="form-control" required name="referralName" id="referralName" placeholder="E.g.Local Promotion"/>
													</label>
											
											</div>
											
											</div>
											</div>
											<br>
											<div class="row">
									
										<div class="smart-form">
											
											
											<div class="col col-8">
											
												<label class="input">
											 	Referral Code<input type="text" class="form-control"  required 
															name="referralCode" id="referralCode" placeholder="">
											</label>
											
											</div>
											
											</div>
											</div>
											<br>
											<div class="row">
									
											<div class="smart-form">
										
										<div class="col col-8">
											
											<label class="input">
											 	Referral Point<input type="text" class="form-control"  required 
															name="referralPoint" id="referralPoint" placeholder="">
											</label>
											
											</div>
										</div>
											
									</div>
								
									<br>
									<div class="row">
									
										<div class="smart-form">
										
											<div class="col col-3">
										<label class="toggle">
											<input type="checkbox" name="checkbox-toggle" checked="checked">
											<i data-swchon-text="ON" data-swchoff-text="OFF"></i>Active</label>
											</div>
											
											
											
										</div>
											
									</div>
									
										</div>
									</div>
				
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">
						Cancel
					</button>
					<button type="button" class="btn btn-success btn-sm" id= "saveReferralSourceModalBtn" >
							<span class="glyphicon glyphicon-floppy-disk"></span> Save
					</button>
					<div id= "saveReferralSourceBtn"></div>
				</div>
				</form>
			</div><!-- /.modal-content -->
			
		</div><!-- /.modal-dialog -->
		
	</div><!-- /.modal -->
				
</div>
<!-- END MAIN PANEL -->

<script type="text/javascript">

	$(document).ready(function() {
				
			});
	
	 $("#referralName").keypress(function(event){
			var inputValue = event.charCode;
			if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
			event.preventDefault();
          }

	});
	 
	  $("#referralCode").keypress(function(event){
	        var inputValue = event.charCode;
	        if(!(inputValue >= 48 && inputValue <= 57) && (inputValue != 0)){
	            event.preventDefault();
	        }
	    });
	  
	  $("#referralPoint").keypress(function(event){
	        var inputValue = event.charCode;
	        if(!(inputValue >= 48 && inputValue <= 57) && (inputValue != 0)){
	            event.preventDefault();
	        }
	    });
	 
	 
	 $('#saveReferralSourceModalBtn').off().on('click', function() {
			//alert("The btn Save was clicked.");
			var formCheck = $("#newReferralSource-form").valid();
		    if(formCheck){
		    	console.log("formcheck true");
		    	$("#saveReferralSourceBtn").click();
		    }
		    console.log("formcheck false");
		});
	 

</script>